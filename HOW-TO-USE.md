## 使用说明
- 使用前，请仔细阅读应用开始的**使用提示**
- **本地连接部分功能不完善，请勿使用**

## 操作说明
- 在大多数的列表页（必须在**列表内部**）按下遥控器上的 **「Play/Pause」** 按钮，可以**刷新当前列表**

## 重要提示
Q: 视频出现丢帧，音画不同步  
A: 开启设置中的「过滤超过60帧的视频」  
  
Q: 视频点击播放的时候出现长时间loading  
A: 修改设置中的 **「播放链接优化」** 策略，但是除了CDN原因，可能还有其他各种原因，要具体分析  

## Q & A
> Q: 弹幕怎么关？倍速播放可以用吗？
>> A: 弹幕可以在设置页面进行默认值设置，倍速播放只支持 tvOS 15，在播放页面设置

> Q: 「我的追番」入口显示
>> A: 「番剧」-「查看全部」/「我的」-「我的追番」

> Q: 自动刷新会在什么时候触发
>> A: 进入后台超过1小时，热门 / 排行榜 / 订阅就会在回到前台的时候触发刷新

## 频繁掉登录状态应该怎么修复
- 所有的登录信息都保存在 Apple TV 默认账号的私人 iCloud 中，掉登录状态，就是没有从 iCloud 获取到
- 解决方法参考
  1. 退出当前账号，重新登录
  2. 可以尝试「清空登录信息」
  3. 重新登录 Apple TV 系统设置中的**默认账号**

## 解释一下「播放链接优化」的功能
- 目前提供两种策略
  1. **播放链接预解析** /（默认方式）/ 初级选项
    > 把获取到的MCDN的播放链接，转成ip+端口的形式进行播放，可以有效解决「无法找到使用指定主机名的服务器」的报错
  2. **播放链接重写** / 进阶选项
    > 直接将MCDN/PCDN，切换到主CDN
- 额外说明
  1. PCDN 会直接采用链接中的URL中的备选CDN

## 如果出现频繁黑屏Loading，无法正常播放，请尝试下列方法
1. Apple TV 连接手机热点，测试能否顺利播放
2. 尝试直连，不要经过软路由
3. 关闭软路由中的代理程序
4. 关闭广告屏蔽类插件
5. 修改「播放链接优化」选项（最后两项关于CDN的设置）

## 播放过程中出现断流，一直 loading 无法继续播放
- 退出视频重开吧，不要一直等待了，目前还不知道为什么播放链接出现断连，会继续追查这个问题

## 怎么看港澳台
- 开代理，不会分流规则可以开全局
- 分流需要让 api.bilibili.com 走代理
- 全局比较费流量，小水管慎用
- 当你在网页或者客户端上可以看的时候，Miao 自然也可以看
- 需要自己调试，无法自动切换

## 港澳台番剧特殊标记
- 所有需要走港澳台的，都会在 header 上加入一个标记 **["x-bili-oversea": "1"]**
- 想要折腾的，写脚本的，可以自行判断

## 关于清晰度的说明
- 目前采用的是 原生播放器 + HLS 的方案，所以实现了自动分辨率的效果，可以理解成和 Netflix 是一样的效果
- 播放器会根据 HLS 中的带宽限制，自动切换视频流，具体限制多少带宽，是 API 返回的参数
- 开启**仅加载最高分辨率**后，强制加载最高分辨率
- 显示播放器详细信息（码率，分辨率）：https://www.howtogeek.com/409201/how-to-unlock-detailed-streaming-statistics-on-the-apple-tv/

## 关于直播
- Build 31 之后已经支持了直播功能
- 直播在设计中不是一个主要功能，目前不会有一个单独的 Tab 页，将来可能在分区中拓展出来一个单独的入口
- 「动态」中可以查看关注UP主的直播状态
- 可以直接搜索直播

## 如何播放 4K
1. 账号有大会员的权限
2. 网络带宽足够
3. 显示设备支持 4K 分辨率，如果你是 1080P 的显示器，应该最多也只能播放 1080P 的内容
4. 使用 Apple TV 4K 及以上设备
5. 如果你在播放器简介中发现自己只能显示HD，有可能是系统Bug，请不要纠结这个问题
6. 如果你想查看自己当前的分辨率信息，请自行打开调试模式，具体方法自行 Google

## 关于 8K
1. Apple TV 不存在 8K 的标签，官方最大也只能输出 4K 的画面
2. 开启 8K 之后，会有更高的码率，获得类似超采样的效果，理论上画面会更清晰
3. 如果想知道现在是不是 8K，需要自行打开 Debug 模式，具体怎么开启，自行 Google

## 关于 HDR
- App 2.0.2 之后，已经兼容了 HDR 格式，但是个别视频出现不兼容的情况，也是情理之中
- 开启 HDR 的条件比较苛刻，必须同时满足一下条件
  1. 「仅加载最高分辨率」：关闭
  2. 「过滤超过60帧的视频」：关闭
  3. 「匹配视频动态范围和帧率」：全部开启
  4. 系统设置 - 匹配内容：全部开启
  5. 「加载HDR」：开启

## 关于杜比视界 / 杜比全景声
1. 设置里有「加载杜比视界」的选择，用户可以自行决定是否开启
2. 开启杜比视界后，可能会出现不支持的编码，导致视频无法播放
3. 目前支持的杜比视界编码 Dolby Vision 8.4（hvc1） + HLG 或者 Dolby Vision 5（dvh1） + PQ
4. Dolby Vision 8.4 是B站能上传的常见的杜比视界版本，这种版本在 tvOS 上只能激活 HDR10
5. Dolby Vision 5 是电影中常见的杜比视界版本，可以正常的激活电视上的杜比视界，在B站上只有极个别测试视频采用的这种格式，而且可能并不能正常打开，这都是正常情况
6. 目前支持的杜比全景声编码 Dolby Digital Plus with Dolby Atmos（ec-3），Dolby Atmos 还在调整参数，现在可能只能显示 Dolby Digital Plus
7. 市面上的电视不同，各种设置也不同，我能测试的也只是我本地的设备，至于能否开启杜比视界 / 杜比全景声，请不要太纠结
- 开启杜比视界的条件
  1. 「仅加载最高分辨率」：关闭
  2. 「过滤超过60帧的视频」：关闭
  3. 「匹配视频动态范围和帧率」：全部开启
  4. 系统设置 - 匹配内容：全部开启
  5. 「加载杜比视界」：开启

## 关于匹配动态范围和帧率
1. 匹配动态范围和帧率在系统设置中
2. 开启匹配动态范围和帧率后，播放视频或退出会先黑屏一下，这是正常情况
3. 匹配帧率只支持视频流中只含有一种帧率的情况
4. 匹配帧率后，弹幕可能发生比较严重的拖影，不能接受的可以自行关闭匹配帧率的功能
5. 匹配动态范围支持 SDR / HLG / PQ

## Apple TV 推荐全局视频设置
1. 使用方法：系统设置 / 视频和音频
2. 格式（Format）： 4K SDR
3. HDMI输出（HDMI Output）：YCbCr
4. 色度（Chroma）：4:4:4
5. 匹配内容（Match Content）：全部打开


